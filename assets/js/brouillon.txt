this.obstacles = numberOfObstacles;
console.log('obstacles');

for (let i = 0; i < this.obstacles; i++){

    let numberCell = randomNumber();
    let avaibleCell = $('td#'+numberCell);

    // Si la class de l'element courant n'est ni obstacle ni weapons
    if(!avaibleCell.hasClass('obstacle') && !avaibleCell.hasClass('weapons')) {
        $('td#'+numberCell).addClass("obstacle"); // On le génère
    } else {
        i--; // Sinon on enlève 1 à la variable de parcourt pour garder le même nombre de génération 
    }
    
} 

this.weapons = numberOfWeapons;
console.log('weapons');

for(let i = 0; i < this.weapons; i++) {

    let numberCell = randomNumber();
    let avaibleCell = $('td#'+numberCell);

    if(!avaibleCell.hasClass('obstacle') && !avaibleCell.hasClass('weapons')) {
        $('td#'+numberCell).addClass("weapons");
    } else {
        i--;
    } 
    
}

let tableOfObstacles = new Array();
let obstacleIsHere = "obstacle";
let weaponIsHere = "weapons";

$('TD').each(function() {
    if($(this).hasClass('obstacle')) {
        tableOfObstacles.push(obstacleIsHere);
    } else if ($(this).hasClass('weapons')) {
        tableOfObstacles.push(weaponIsHere);
    } else {
        tableOfObstacles.push("0");
    }
});

console.log('Plateau de jeu:', tableOfObstacles);

/*
for (let i = 0; i < this.obstacles; i++){
    let numberCell = randomNumber();
    $('td#'+numberCell).addClass("obstacle");
    this.position = false;
    cellsIndex.push(this.position);
    console.log(cellsIndex);
}


//fonction qui marche !
    generateObstacles() {

        this.obstacles = numberOfObstacles;
        let i = 0;
        do {
            let numberCell = randomNumber();
            let avaibleCell = $('td#'+numberCell);
            if(!avaibleCell.hasClass('obstacle') && !avaibleCell.hasClass('weapons')) {
                $('td#'+numberCell).addClass("obstacle") + i;
            } else {
                i--;
            }
            this.position = false;
            cellsIndex.push(this.position); 
            i++;
        } while (i < this.obstacles);

    }  



*/

    generateWeapons() {
        
        this.weapons = numberOfWeapons;
        let i = 0;
        do {
            i++;
            let numberCell = randomNumber();
            let avaibleCell = $('td#'+numberCell);
            if(!avaibleCell.hasClass('obstacle') && !avaibleCell.hasClass('weapons')) {
                $('td#'+numberCell).addClass("weapons");
                cellsWeapons[numberCell] = "false";
            } else {
                i--;
            }            
            console.log(cellsWeapons);

        } while (i < this.weapons);
    }  

    /*gameBoard.checkConfig();*/

    /*
    checkConfig() {
        let items = numberOfObstacles + numberOfWeapons;
        
        if(numberOfGameBox < items) {
            alert("la somme d'obstacles et d'armes doit etre inférieur au nombres de cellules");
            exit;
        }

    }
    */

    //this.firstPlayerPosition = firstPlayerPosition;
    //this.secondPlayerPosition = secondPlayerPosition;


            /////////////////////////////////////////////////////////////////////////////////////   ///////////////
        // -> Si Vrai                                                                           // -> Alors la case n'est pas dispo

        //console.log("isfree:", isfree);


        //etape 1 : ajout des skins

        //créer joueur 

        //gestion visuel joueur

        // créer arme pour chacun de joueurs

        // créer joueur + arme

        // Prévoir joueur et arme sur meme cellule
        // Le joueur commence avec une arme 
        // arme portée par id du player 
        // ancienne arme et nouvelle arme du joueur
        // puissance de degat egale à puissance de l'arme
        // anticipé joueur à une position + un nom + une puissance + une vie + un visuel
        // skin des armes par le biais d'une classe css
        // background url -> joueur -> via une classe -> pour la cellule //pas possible de remettre arme dessus
        // <span> avec la classe arme -> z-index 

        // génération des skin différents des armes
        // génération des joueur avec leur skin 
        // vérif sur cellule libre pour inserer joueur
        // verif cellule dispo ou pas 
        // crée arme de base -> meme position que le joueur -> insertion tableau armes
        // création de l'arme et du joueur
        // récupération dune nouvelle arme en remplacement de l'ancienne 

        // skin arme et obstcale OK
        // skin joueur  OK
        //


                    //let imageUrl = "assets/imgs/players/"+ playerSkin +".png";
            //this.skin = imageUrl;
            //element.css("background-image", "url(" + this.skin + ")"); 

                        //let imageUrl = "assets/imgs/players/"+ playerSkin +".png";
            //this.skin = imageUrl;
            //element.css("background-image", "url(" + this.skin + ")");  

                        //players.skinForThePlayer($( "td#"+playerIndex));
           // weapons.skinForTheWeapon($( "td#"+playerIndex), 0);
            //weapons.skinForTheWeapon($( "td#"+weaponIndex), id_weapon);


/*
.weapons {

    background-repeat: no-repeat;
    padding: 5px;
    /*margin: 0 auto;*/

}
*/
/*
.player {
    z-index: 1;
    background-repeat: no-repeat;
    position: relative;
}
*/

/*
skinForTheWeapon(element, random) {
    if(cellsWeapons.indexOf(Weapon)) {
        let imageUrl = "assets/imgs/weapons/"+ random +".png";
        this.skin = imageUrl;
        element.css("background-image", "url(" + this.skin + ")");
    } 
}*/

            //$( "td#"+playerIndex).addClass("player");
            //$( "td#"+weaponIndex).addClass("weaponRandom");


        let obstacleIsPossible0 = cellsObsctacles[0].position;
        let obstacleIsPossible1 = cellsObsctacles[1].position;
        let obstacleIsPossible2 = cellsObsctacles[2].position;
        let obstacleIsPossible3 = cellsObsctacles[3].position;
        let obstacleIsPossible4 = cellsObsctacles[4].position;
        let obstacleIsPossible5 = cellsObsctacles[5].position;
        let obstacleIsPossible6 = cellsObsctacles[6].position;
        let obstacleIsPossible7 = cellsObsctacles[7].position;
        let obstacleIsPossible8 = cellsObsctacles[8].position;
        let obstacleIsPossible9 = cellsObsctacles[9].position;
        let playerIsPossible = cellsPlayers;
        
        if (player1 - 10 == obstacleIsPossible0) {
            console.log('pas possible joueur1');
        } else if (player2 - 10 == obstacleIsPossible0) {
            console.log('pas possible joueur2');
        } 
        
        if (player1 - 10 == obstacleIsPossible1) {
            console.log('pas possible joueur1');
        } else if (player2 - 10 == obstacleIsPossible1) {
            console.log('pas possible joueur2');
        } 
        
        if (player1 - 10 == obstacleIsPossible2) {
            console.log('pas possible joueur1');
        } else if (player2 - 10 == obstacleIsPossible2) {
            console.log('pas possible joueur2');
        } 
        
        if (player1 - 10 == obstacleIsPossible3) {
            console.log('pas possible joueur1');
        } else if (player2 - 10 == obstacleIsPossible3) {
            console.log('pas possible joueur2');
        }
        
        if (player1 - 10 == obstacleIsPossible5) {
            console.log('pas possible joueur1');
        } else if (player2 - 10 == obstacleIsPossible5) {
            console.log('pas possible joueur2');
        }
        
        if (player1 - 10 == obstacleIsPossible6) {
            console.log('pas possible joueur1');
        } else if (player2 - 10 == obstacleIsPossible6) {
            console.log('pas possible joueur2');
        } 

        if (player1 - 10 == obstacleIsPossible7) {
            console.log('pas possible joueur1');
        } else if (player2 - 10 == obstacleIsPossible7) {
            console.log('pas possible joueur2');
        } 

        if (player1 - 10 == obstacleIsPossible8) {
            console.log('pas possible joueur1');
        } else if (player2 - 10 == obstacleIsPossible8) {
            console.log('pas possible joueur2');
        } 

        if (player1 - 10 == obstacleIsPossible9) {
            console.log('pas possible joueur1');
        } else if (player2 - 10 == obstacleIsPossible9) {
            console.log('pas possible joueur2');
        } 


        switch(index){
            case 0:
                player1 - 10 == cellsObsctacles[0].position;
                console.log('pas bon');
                player2 - 10 == cellsObsctacles[0].position;
                console.log('pas bon');
            break;
            case 1:
                player1 - 10 == cellsObsctacles[1].position;
                console.log('pas bon');
                player2 - 10 == cellsObsctacles[1].position;
                console.log('pas bon');
            break;
            case 2:
                player1 - 10 == cellsObsctacles[2].position;
                console.log('pas bon');
                player2 - 10 == cellsObsctacles[2].position;
                console.log('pas bon');
            break;
            case 3:
                player1 - 10 == cellsObsctacles[3].position;
                console.log('pas bon');
                player2 - 10 == cellsObsctacles[3].position;
                console.log('pas bon');
            break;
            case 4:
                player1 - 10 == cellsObsctacles[4].position;
                console.log('pas bon');
                player2 - 10 == cellsObsctacles[4].position;
                console.log('pas bon');
            break;
            case 5:
                player1 - 10 == cellsObsctacles[5].position;
                console.log('pas bon');
                player2 - 10 == cellsObsctacles[5].position;
                console.log('pas bon');
            break;
            default:
                console.log("RAS");
        }

                    switch(moves) {
                case player1 - 1 == indexObstacle:
                    console.log('pas bon');
                break;
                case player1 - 2 == indexObstacle:
                    console.log('pas bon');
                break;
                case player1 - 3 == indexObstacle:
                    console.log('pas bon');     
                break;        
                case player1 + 1 == indexObstacle:
                    console.log('pas bon');
                break;
                case player1 + 2 == indexObstacle:
                    console.log('pas bon');  
                break;   
                case player1 + 3 == indexObstacle:
                    console.log('pas bon');      
                break;   
                case player1 - 10 == indexObstacle:
                    console.log('pas bon');
                break;
                case player1 - 20 == indexObstacle:
                    console.log('pas bon');
                break;
                case player1 - 30 == indexObstacle:
                    console.log('pas bon');
                break;
                default:
                    console.log('OK');
            }